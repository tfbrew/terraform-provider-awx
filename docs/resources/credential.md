---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "awx_credential Resource - awx"
subcategory: ""
description: |-
  Manage an Automation Controller credential.
  NOTE: The automation controller API does not return encrypted secrets so changes made in the controller of the inputs field will be ignored.
  The only changes to the inputs field that will be sent are when the terraform code does not match the terraform state.
---

# awx_credential (Resource)

Manage an Automation Controller credential. 
NOTE: The automation controller API does not return encrypted secrets so changes made in the controller of the inputs field will be ignored. 
The only changes to the inputs field that will be sent are when the terraform code does not match the terraform state.

## Example Usage

```terraform
resource "awx_organization" "example" {
  name        = "tf_example"
  description = "example"
}

// Example machine credential

// Inputs options for machine credentials:
// username, password, ssh_key_data, ssh_public_key_data, become_method, become_password, ssh_key_unlock
// Setting a value to "ASK" is equal to choosing "Prompt at Launch"

data "awx_credential_type" "machine" {
  name = "Machine"
  kind = "ssh"
}

resource "awx_credential" "example-machine" {
  name            = "example_machine"
  organization    = awx_organization.example.id
  credential_type = data.awx_credential_type.machine.id
  inputs = jsonencode({
    "become_method" : "sudo",
    "become_password" : "ASK", // ASK = Prompt at Launch checkbox
    "password" : "test1234",   // code should not contain secrets, example only
    "username" : "awx"
  })
}

// Example source control credential

// Inputs options for source control credentials:
// username, password, ssh_key_data, ssh_key_unlock
// Setting a value to "ASK" is equal to choosing "Prompt at Launch"

data "awx_credential_type" "source-control" {
  name = "Source Control"
  kind = "scm"
}

resource "awx_credential" "example-source-control" {
  name            = "example_machine"
  organization    = awx_organization.example.id
  credential_type = data.awx_credential_type.source-control.id
  inputs = jsonencode({
    "ssh_key_data" : file("${path.module}/id_rsa"), // code should not contain secrets, example only
    "ssh_key_unlock" : "test1234",                  // code should not contain secrets, example only
    "username" : "awx"
  })
}

// Example container registry credential

// Inputs options for source control credentials:
// host, username, password, verify_ssl
// Setting a value to "ASK" is equal to choosing "Prompt at Launch"

data "awx_credential_type" "container-registry" {
  name = "Container Registry"
  kind = "registry"
}

resource "awx_credential" "example-container-registry" {
  name            = "example_container_registry"
  organization    = awx_organization.example.id
  credential_type = data.awx_credential_type.container-registry.id
  inputs = jsonencode({
    "host" : "quay.io",
    "password" : "test1234", // code should not contain secrets, example only
    "username" : "test",
    "verify_ssl" : true
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `credential_type` (Number) ID of the credential type.
- `name` (String) Credential name.

### Optional

- `description` (String) Credential description.
- `inputs` (Dynamic, Sensitive) This field can take inputs in two forms: an object or a JSON-encoded string. When importing this resource type, you must specify the inputs as an object. See above for examples of both types. The older, second method is to specify a string by using using `jsonencode()` to encode similar data as as string in state. Specify alphabetically when using the second method.
- `organization` (Number) ID of organization which owns this credential. One and only one of `organization`, `team`, or `user` must be set.
- `team` (Number) ID of team which owns this credential. One and only one of `organization`, `team`, or `user` must be set.
- `user` (Number) ID of user which owns this credential. One and only one of `organization`, `team`, or `user` must be set.

### Read-Only

- `id` (String) Credential ID.
- `kind` (String) Credential kind.

## Import

Import is supported using the following syntax:

```shell
# The example below is for a simple import that can be used when you do not have an inputs attribute block defined with secrets.
terraform import awx_credential.example 5

# If you have an inputs attribute object block defined with secrets, you need to specify them in the import command ID.
# The example below shows the pattern for the import command when you have an inputs attribute block defined with secrets in your .tf file.
# The ID field for the import command is the resources's ID followed by a comma-separated list of key/value pairs.
# Non-secret inputs do not need to be included in the import command
# The string at the end of this example command below would correlate to the following resource definition:
#   resource "awx_credential" "example_with_input" {
#      id = 5   
#      inputs = {
#         password = "12345"
#         token = "a1b2c3-d4e5-example"
#         non-secret = "do not include in import cli command"
#      }
#   }

terraform import awx_credential.example_with_input "5,password,12345,token,a1b2c3-d4e5-example"
```
