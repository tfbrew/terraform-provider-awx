---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "awx_credential Resource - awx"
subcategory: ""
description: |-
  Manage an Automation Controller credential.
  NOTE: The automation controller API does not return encrypted secrets so changes made in the controller of the inputs field will be ignored.
  The only changes to the inputs field that will be sent are when the terraform code does not match the terraform state.
---

# awx_credential (Resource)

Manage an Automation Controller credential. 
NOTE: The automation controller API does not return encrypted secrets so changes made in the controller of the inputs field will be ignored. 
The only changes to the inputs field that will be sent are when the terraform code does not match the terraform state.

## Example Usage

```terraform
resource "awx_organization" "example" {
  name        = "tf_example"
  description = "example"
}

// Example machine credential

// Inputs options for machine credentials:
// username, password, ssh_key_data, ssh_public_key_data, become_method, become_password, ssh_key_unlock
// Setting a value to "ASK" is equal to choosing "Prompt at Launch"

data "awx_credential_type" "machine" {
  name = "Machine"
  kind = "ssh"
}

resource "awx_credential" "example-machine" {
  name            = "example_machine"
  organization    = awx_organization.example.id
  credential_type = data.awx_credential_type.machine.id
  inputs = jsonencode({
    "become_method" : "sudo",
    "become_password" : "ASK", // ASK = Prompt at Launch checkbox
    "password" : "test1234",   // code should not contain secrets, example only
    "username" : "awx"
  })
}

// Example source control credential

// Inputs options for source control credentials:
// username, password, ssh_key_data, ssh_key_unlock
// Setting a value to "ASK" is equal to choosing "Prompt at Launch"

data "awx_credential_type" "source-control" {
  name = "Source Control"
  kind = "scm"
}

resource "awx_credential" "example-source-control" {
  name            = "example_machine"
  organization    = awx_organization.example.id
  credential_type = data.awx_credential_type.source-control.id
  inputs = jsonencode({
    "ssh_key_data" : file("${path.module}/id_rsa"), // code should not contain secrets, example only
    "ssh_key_unlock" : "test1234",                  // code should not contain secrets, example only
    "username" : "awx"
  })
}

// Example container registry credential

// Inputs options for source control credentials:
// host, username, password, verify_ssl
// Setting a value to "ASK" is equal to choosing "Prompt at Launch"

data "awx_credential_type" "container-registry" {
  name = "Container Registry"
  kind = "registry"
}

resource "awx_credential" "example-container-registry" {
  name            = "example_container_registry"
  organization    = awx_organization.example.id
  credential_type = data.awx_credential_type.container-registry.id
  inputs = jsonencode({
    "host" : "quay.io",
    "password" : "test1234", // code should not contain secrets, example only
    "username" : "test",
    "verify_ssl" : true
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `credential_type` (Number) ID of the credential type.
- `name` (String) Credential name.

### Optional

- `description` (String) Credential description.
- `inputs` (String, Sensitive) Credential inputs using `jsonencode()`. Specify alphabetically.
- `organization` (Number) ID of organization which owns this credential. One and only one of `organization`, `team`, or `user` must be set.
- `team` (Number) ID of team which owns this credential. One and only one of `organization`, `team`, or `user` must be set.
- `user` (Number) ID of user which owns this credential. One and only one of `organization`, `team`, or `user` must be set.

### Read-Only

- `id` (String) Credential ID.
- `kind` (String) Credential kind.

## Import

Import is supported using the following syntax:

```shell
# The inputs field contains values that are not returned by the automation controller API and thus not available in state.
# The first plan/apply after import will result in a modification to the inputs so that the state can be updated.

terraform import awx_credential.example 5
```
