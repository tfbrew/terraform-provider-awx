---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "awx_instance_group Resource - awx"
subcategory: ""
description: |-
  Manage an Automation Controller instance_group.
---

# awx_instance_group (Resource)

Manage an Automation Controller instance_group.

## Example Usage

```terraform
# Example Instance Group
resource "awx_instance_group" "example-instance" {
  name                       = "example_instance_group"
  policy_instance_percentage = 100
}

# Example Container Group
## Note all pod_spec_override json keys should be alphabetized
resource "awx_instance_group" "example-container" {
  name               = "example_container_group"
  is_container_group = true
  credential         = 1
  pod_spec_override = jsonencode(
    {
      "apiVersion" : "v1",
      "kind" : "Pod",
      "metadata" : {
        "namespace" : "awx"
      },
      "spec" : {
        "automountServiceAccountToken" : false,
        "containers" : [
          {
            "args" : [
              "ansible-runner",
              "worker",
              "--private-data-dir=/runner"
            ],
            "image" : "quay.io/ansible/ee:latest",
            "name" : "worker",
            "resources" : {
              "requests" : {
                "cpu" : "250m",
                "memory" : "100Mi"
              }
            }
          }
        ],
        "serviceAccountName" : "default"
      }
    }
  )
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Instance Group name.

### Optional

- `credential` (Number) Credential ID to authenticate with Kubernetes or OpenShift for ContainerGroups. Must be of type `OpenShift` or `Kubernetes API Bearer Token`
- `is_container_group` (Boolean) Signifies that this InstanceGroup should act as a ContainerGroup. If no credential is specified, the underlying Podâ€™s ServiceAccount will be used.
- `max_concurrent_jobs` (Number) Maximum number of jobs to run concurrently on this group. Zero means no limit will be enforced.
- `max_forks` (Number) Maximum number of forks to allow across all jobs running concurrently on this group. Zero means no limit will be enforced.
- `pod_spec_override` (String) A custom Kubernetes or OpenShift Pod specification in json for ContainerGroups.
- `policy_instance_minimum` (Number) Minimum number of instances that will be automatically assigned to this group when new instances come online.
- `policy_instance_percentage` (Number) Minimum percentage of all instances that will be automatically assigned to this group when new instances come online.

### Read-Only

- `id` (String) InstanceGroup ID.

## Import

Import is supported using the following syntax:

```shell
terraform import awx_instance_group.example 1
```
